<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Test Affichage</title>
    <style>
        body { margin: 0; background: black; font-family: sans-serif; overflow: hidden; }
        
        /* L'image qui prend tout l'écran */
        #bg-image {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-size: cover; background-position: center;
            z-index: 1;
        }

        /* Le titre au milieu */
        #title {
            position: absolute; top: 30%; width: 100%; text-align: center;
            color: white; font-size: 5vw; font-weight: bold;
            text-shadow: 2px 2px 4px black; z-index: 2;
            background: rgba(0,0,0,0.3); padding: 20px 0;
        }

        /* Le bandeau rouge en bas */
        #footer {
            position: fixed; bottom: 0; width: 100%; height: 80px;
            background: #D32F2F; z-index: 3; overflow: hidden;
            border-top: 2px solid white;
        }

        /* Le texte qui défile */
        #scrolling-text {
            position: absolute; top: 15px; white-space: nowrap;
            color: white; font-size: 40px; font-weight: bold;
            left: 100%; /* Départ à droite */
            animation: scroll 15s linear infinite;
        }

        @keyframes scroll {
            from { transform: translateX(0); left: 100%; }
            to { transform: translateX(-100%); left: 0; }
        }
    </style>
</head>
<body>

    <div id="bg-image"></div>
    <div id="title">Chargement...</div>
    <div id="footer">
        <div id="scrolling-text">Test du système...</div>
    </div>

<script>
    // --- DONNÉES DE TEST INTÉGRÉES (Pas de Google Sheet pour l'instant) ---
    var demoSlides = [
        {
            img: "https://images.unsplash.com/photo-1517649763962-0c623066013b?auto=format&fit=crop&w=1080",
            title: "TEST IMAGE 1",
            text: "Ceci est un test pour vérifier que l'écran fonctionne correctement."
        },
        {
            img: "https://images.unsplash.com/photo-1551847677-dc82d764e1eb?auto=format&fit=crop&w=1080",
            title: "TEST IMAGE 2",
            text: "Si vous voyez ce texte défiler, c'est gagné !"
        },
        {
            img: "https://images.unsplash.com/photo-1590556409324-aa1d726e5c3c?auto=format&fit=crop&w=1080",
            title: "TEST IMAGE 3",
            text: "Nous allons pouvoir reconnecter Google Sheet juste après."
        }
    ];

    var index = 0;

    function nextSlide() {
        var slide = demoSlides[index];
        
        // Changer l'image
        document.getElementById("bg-image").style.backgroundImage = "url('" + slide.img + "')";
        
        // Changer le titre
        document.getElementById("title").innerText = slide.title;
        
        // Changer le texte défilant (Reset animation trick)
        var ticker = document.getElementById("scrolling-text");
        ticker.innerText = slide.text;
        ticker.style.animation = 'none';
        ticker.offsetHeight; /* hack pour relancer l'anim */
        ticker.style.animation = "scroll 15s linear infinite";

        // Passer à la suivante après 5 secondes
        index++;
        if (index >= demoSlides.length) index = 0;
        setTimeout(nextSlide, 5000);
    }

    // Lancer le diaporama
    nextSlide();

</script>

</body>
</html>
